<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Speech-to-Text Demo</title>
</head>
<body>
  <h1>Speech-to-Text Demo</h1>
  <textarea id="audioContent" rows="4" cols="50" placeholder="Paste your audio content here"></textarea>
  <button onclick="transcribeAudio()">Transcribe</button>
  <div id="transcriptionResult"></div>

  <script src="https://cdn.jsdelivr.net/npm/@google-cloud/speech"></script>
  <script>
    async function transcribeAudio() {
      const audioContent = document.getElementById('audioContent').value;

      const client = new speech.SpeechClient();
      const audio = {
        content: audioContent,
      };

      const config = {
        encoding: 'LINEAR16',
        sampleRateHertz: 16000,
        languageCode: 'en-US',
      };

      const request = {
        audio: audio,
        config: config,
      };

      try {
        const [response] = await client.recognize(request);
        const transcription = response.results
          .map(result => result.alternatives[0].transcript)
          .join('\n');
        document.getElementById('transcriptionResult').innerText = transcription;
      } catch (error) {
        console.error('Error during transcription:', error.message);
      }
    }
  </script>
</body>
</html>
